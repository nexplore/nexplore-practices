<puibe-toast
    variant="error"
    *ngIf="status?.error"
    [closeable]="true"
    (dismissed)="onDismiss()"
    class="min-w-screen max-w-screen flex overflow-hidden md:min-w-96 md:max-w-[660px]"
    role="status"
>
    <div part="error-content" class="flex min-w-0 flex-col items-stretch gap-2 text-ellipsis whitespace-pre-wrap pl-2">
        @if (isFormularInvalidError(status.error)) {
            <p translate>Practices.Labels_FormularInvalid</p>
        } @else {
            <ng-container *ngTemplateOutlet="errorTemplate; context: { $implicit: status }"></ng-container>
            <ng-container *ngIf="!errorTemplate">

                {{ status.error?.message ?? status.error }}
                <puibe-expansion-panel
                    *ngIf="status.error?.stack"
                    caption="Details"
                    class="flex-grow-0 text-black"
                    [enableContentScroll]="true"
                >
                    <code *ngIf="status.error.stack" class="whitespace-pre">{{ status?.error.stack }}</code>
                </puibe-expansion-panel>
            </ng-container>
        }
    </div>
</puibe-toast>
<ng-container *ngIf="status?.success">
    <puibe-toast
        variant="success"
        [closeable]="true"
        *ngIf="getSuccessMessage(status) as successMessage"
        class="min-w-screen max-w-screen flex overflow-hidden md:min-w-40 lg:max-w-[660px]"
        role="status"
    >
        {{ successMessage }}
    </puibe-toast>
</ng-container>
